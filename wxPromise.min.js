"use strict";var promisify=function(t){return function(o){for(var n=arguments.length,i=Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];return new Promise(function(n,e){t.apply(void 0,[Object.assign({},o,{success:n,fail:e})].concat(i))})}};wx.pro={};var wxPromise=function(){for(var t in wx)wx.hasOwnProperty(t)&&(/^on|^create|Sync$/.test(t)&&"createBLEConnection"!==t||"getRecorderManager"===t||"stopRecord"===t||"pauseVoice"===t||"stopVoice"===t||"pauseBackgroundAudio"===t||"stopBackgroundAudio"===t||"getBackgroundAudioManager"===t?wx.pro[t]=wx[t]:wx.pro[t]=promisify(wx[t]));wx.pro.showTopTips=function(t,o){return new Promise(function(n,i){t||i("缺少配置项！"),t.content||i("option.content属性是必须的");var e=o.data.topTips||{};e.timeout&&(clearTimeout(e.timeout),e.timeout=0),void 0===t.duration&&(t.duration=3e3);var r=setTimeout(function(){o.setData({"topTips.show":!1,"topTips.timeout":0},function(){n()})},t.duration);o.setData({topTips:{show:!0,content:t.content,timeout:r}})})},wx.pro.initChart=function(t,o){return function(n,i,e){var r=o.init(n,null,{width:i,height:e});return n.setChart(r),r.setOption(t),r}}};wxPromise();
