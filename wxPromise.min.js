"use strict";var promisify=function(t){return function(o){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return new Promise(function(i,r){t.apply(void 0,[Object.assign({},o,{success:i,fail:r})].concat(n))})}};wx.pro={};var wxPromise=function(){for(var t in wx)wx.hasOwnProperty(t)&&(wx.pro[t]=promisify(wx[t]));wx.pro.showTopTips=function(t,o){return new Promise(function(i,n){t||n("缺少配置项！"),t.content||n("option.content属性是必须的");var r=o.data.topTips||{};r.timeout&&(clearTimeout(r.timeout),r.timeout=0),void 0===t.duration&&(t.duration=3e3);var e=setTimeout(function(){o.setData({"topTips.show":!1,"topTips.timeout":0},function(){i()})},t.duration);o.setData({topTips:{show:!0,content:t.content,timeout:e}})})}};wxPromise();
